# Observing Cooperation in Social Networks
## Katya Donovan, Tony Kim, Noah Rivkin
## Abstract

Following Helbing’s and Yu’s model on cooperation of success-driven individuals, we explore how noise affects the outbreak of cooperation among agents in the spatial prisoner’s dilemma. In Helbing’s and Yu’s model, they implement noise in two ways: one as strategy mutations in which an agent spontaneously chooses to cooperate or defect, and one where an agent chooses to migrate to another location, either randomly or to the best location within a moore neighborhood. With this model, we can see clusters of cooperation, even when the individuals are success driven. As an extension to this model, we investigate the effects of a trust based migration on communities of cooperators and defectors, where trust is a relation between pairs of agents based on past interactions. We analyze this in two different ways; with randomly selected agents migrating to locations chosen based on whether the neighbors of empty cells have cooperated more frequently than defected, where the agents who are unhappy, or surrounded by defecting cells, move to a random location.


## Introduction

The prisoner’s dilemma (PD) [1] is commonly investigated in game theory. Two agents are competing, and each one must choose one of two strategies, cooperate (C), or defect (D). If both agents cooperate they both receive a reward (R). Temptation (T), is an incentive to defect. If one agent defects and the other cooperates, the defector gets T while the cooperator gets the sucker (S) payoff. The prisoner’s dilemma is formally defined by T>R>P>S, and 2R>T+S. These rules mean that defection is what is known as a dominant strategy. A dominant strategy is a strategy that will always give a greater payoff than any other strategy, regardless of the other actions of the other agent or agents. However, the combined score of the two agents is greatest if they both cooperate, so from the perspective of maximizing the total payoff for a group of agents mutual cooperation is preferable. Unfortunately, for a single round of the PD, two rational agents will both choose D, giving the worst possible total payoff. A rational agent is an agent that will always act in its own best interests.
    There are a number of ways of resolving the PD. A common solution is the iterated prisoner’s dilemma, or IPD [1]. In the IPD the agents play each other repetitively. This means that establishing a situation where both agents always cooperate is preferable to a situation where both agents always defect. Another solution in the spatial PD. In the spatial PD agents are placed on a grid, or similar spatial structure, and play their neighbors repetitively. Like the IPD, it is in the agent's best interest to establish a pattern of cooperation.
    Both of these solutions require repeated interaction between a pair of agents. In the real world most people interact with a group of people repeatedly. However, as communication and travel technologies grow more advanced, it is increasingly common to have single interactions with another person. This casts doubt on the traditional solutions to the prisoner’s dilemma.
    We attempt to model the increased number of non-repeated interactions by implementing an altered version of the spatial PD[2]. In the model agents change their locations (migrate). This means that agents cannot assume that they will interact with a particular individual multiple times, reducing the incentive to establish a cooperative relationship with other agents. This allows us to test if cooperation will still emerge without the guarantee of repeated interactions.
    Helbing and Yu created a model to study this situation, but their model lacks certain features that we consider necessary to create a model that fully represents a realistic environment. In their model agents are chosen to migrate at random, and agents do not remember interactions with specific individuals. We implement a trust network between agents, providing agents with an incentive to migrate toward individuals with whom they have had successful past interactions. In another implementation, we have a source based migration, where the agents migrate based on their trust in the agents around them. These model social groups, where individuals try to find agents they consider reliable, and attempt to maintain long term relations with them.



## Original Experiment

Helbing and Yu implement a prisoner's dilemma with different initial conditions to analyze the effects of noise and strategies on the formation of communities of cooperators and defectors. We examine the effect of having agents imitate the strategy of the neighbor that was most successful after each round against the effect of having agents migrate to destinations that they have the best chance of being successful.  This means that they are either the defector to a neighborhood of cooperators, or a cooperator with cooperators. We compare these two implementations separately as well as the implementation of both together in order to observe whether communities of cooperators will arise. In order to determine how stable the model is, we add noise to the model in the form of random migration and strategy mutation. By combining these implementations in six different ways, we analyze the impact of these factors on the outbreak of clusters of cooperators or defectors.


## Methodology

For our extension, we add a social trust network dynamics into the agents and make migration depend on this trust network. We analyze the strategy or spatial change within the simulation. In our implementation, we have a complete directed graph of n nodes which represent the agents. Each edge between the nodes has a value v that is between 0 and 1 which represents how the source agent trusts the destination agent. The trust values are initialized with a random value. Then, the agents calculate the average trust value, avg_v, and choose to cooperate with this as the probability.
In order to incorporate the trust network into the model, we need to make migration dependent on the trust network we built. There are various ways to incorporate the trust network into the migration, however, we decide to implement it in two different ways. First, we implement destination based migration in which the migrating agents are chosen with random probability, but migrate to a destination that has the highest expected average trust. This will model the behavior of people who wish to migrate to a location where neighborhood agents are cooperative. Second, we implement source based migration in which the migrating agents move to a random destination. We believe this will model the behavior of unhappy people who wish to migrate from non-cooperative neighborhood.

## Results

Starting with a 49 x 49 grid with 50% of empty cells and approximately equal amount of defectors and cooperators, we examine the clustering of cooperators and defectors after 200 iterations. In order to verify our results, we compared them against those of the models, starting with the simplest version of the model, and adding more with various factors such as noise and migration.

We first consider the model that does not implement noise or migration. The only remaining way that agents change state is by imitating their highest scoring neighbor. Figure [1] shows Helbing’s and Yu’s model in contrast to Figure [2], which depicts our own implementation of this model. As clearly indicated by the figure, after 200 iterations, our model has less cooperators than Helbing’s and Yu’s. This suggests that Helbing and Yu use a different method to calculate scores than we implemented in our model. This may be due bias in pseudo random number generators, or in our treatment of ties between highest scoring neighbors. However, since the defectors remain a majority in both implementations, we consider our model to be a qualitatively accurate replication of theirs.

We then add noise to our model in the form of random strategy mutations. In this implementation cooperators and defectors have a 5% chance of switching to a random state each timestep. This noise eliminates the majority of the cooperators in the model, as can be seen Figure [3], which is Helbing’s and Yu’s model, and Figure [4], our own implementation. 

Figure [5] depicts Helbing’s and Yu’s implementation of the model without random strategy mutation, instead implementing migration. Figure [6] is our own implementation of the model with those conditions. As shown in the two figures, small clusters of cooperation appear.

However, the clusters of cooperation are very unstable, because once  we add noise to the model, as in random chance that the strategy of the agents change, the clusters of cooperation cease. Figure [7], Helbing’s and Yu’s model, and Figure [8], our own implementation of the model, clearly show this elimination.

## Bibliography
### The Further Evolution of Cooperation
*Axelrod, R., & Dion, D. (1988). The further evolution of cooperation. Science, 242(4884), 1385-1390.*

Axelrod and Douglas argue that evolution can produce cooperation as a trait, even in situations where defection is a dominant strategy in a non-iterated version of the situation. They expand on the prisoner's dilemma tournament model used in Axelrod’s original tournament to incorporate evolutionary aspects. In the new model automata are constructed from a set of instructions, and then they interact with other automata as is the case in the older model. However, in addition to altering the population of each type of automata, the automata exchange instructions (chromosomes) or randomly alter a single instruction (mutation). Axelrod and Douglas conclude that cooperation can emerge from randomized evolution.


### The outbreak of cooperation among success-driven individuals under noisy conditions 
*Helbing, D., & Yu,W. (2008).*

The outbreak of cooperation among success-driven individuals under noisy conditions. The National Academy of Sciences of the USA.
Helbing and Yu investigate the emergence of cooperative behavior among competitive agents when non-cooperative behavior is a dominant strategy. They use the prisoner’s dilemma as a model for such interactions. They make the argument that the common solution to the dilemma, iteration, is not able to account for changing situations, or deal with a noisy environment. They construct an agent based model to create a more realistic model, implementing changing strategies, noise, and changing spatial dynamics. They find that introducing migration aids in the emergence of cooperation, even though individual agents no longer interact with the same set of other agents repeatedly.


### The Evolution of Strategies in the Iterated Prisoner’s Dilemma 
*Axelrod, Robert. “The Evolution of Strategies in the Iterated Prisoner’s Dilemma.” The Dynamics of Norms, edited by Cristina Bicchieri and Richard Jeffrey.*

Axelrod explores different models to study the evolution of strategies in games. He mainly examines the strategies in the Prisoner’s Dilemma, where exploiting the cooperation of others gives high rewards, unless both are defective. By investigating which strategies will produce the highest reward, Axelrod shows that simple strategies such as choosing the strategy that the prisoner’s partner had recently tried will be an effective way of earning the highest reward.
